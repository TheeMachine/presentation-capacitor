"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3504],{3504:(p,a,i)=>{i.r(a),i.d(a,{CapacitorPresentationWeb:()=>c});var o=i(467),l=i(7464);class c extends l.E_{open(e){var n=this;return(0,o.A)(function*(){var r;try{let t=null;switch(e.type){case"url":t=e.url;break;case"html":t=e.html;break;case"video":t=null===(r=e.videoOptions)||void 0===r?void 0:r.videoUrl}if(!t)throw new Error("Please enter all required values!");const s=yield n.startDisplay(t);return n.notifyListeners("onSuccessLoadUrl",s),{success:s}}catch(t){return console.log(t),n.notifyListeners("onFailLoadUrl",t),{error:t,result:e}}})()}sendMessage(e){var n=this;return(0,o.A)(function*(){var r;return n.notifyListeners("onMessage",e),null===(r=n.presentationConnection)||void 0===r||r.send(JSON.stringify(e)),e})()}startDisplay(e){var n=this;return(0,o.A)(function*(){const r=new window.PresentationRequest([e]);return new Promise(function(){var t=(0,o.A)(function*(s){r.addEventListener("connectionavailable",u=>{n.presentationConnection=u.connection,s(n.presentationConnection),n.presentationConnection.addEventListener("close",()=>{console.log("> Connection closed.")}),n.presentationConnection.addEventListener("terminate",()=>{console.log("> Connection terminated.")}),n.presentationConnection.addEventListener("message",d=>{console.log("> "+d.data)})}),yield r.start(),s(e)});return function(s){return t.apply(this,arguments)}}())})()}terminate(){var e=this;return(0,o.A)(function*(){var n;return console.log(e.presentationConnection),null===(n=e.presentationConnection)||void 0===n?void 0:n.terminate()})()}getDisplays(){return(0,o.A)(function*(){const e=new window.PresentationRequest([""]);try{return yield e.getAvailability(),{displays:1}}catch{return{displays:0}}})()}}}}]);